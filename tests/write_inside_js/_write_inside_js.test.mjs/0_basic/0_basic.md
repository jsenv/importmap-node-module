# [0_basic](../../write_inside_js.test.mjs#L21)

```js
run("0_basic")
```

# 1/2 write 6 files into "./git_ignored/"

## node_modules/foo/foo.js
```js
console.log('foo');
```

## node_modules/foo/package.json
```json
{
  "name": "foo",
  "main": "./foo.js",
  "private": true
}
```

## index.html
```html
<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <link rel="icon" href="data:,">
  </head>

  <body>
    <script type="module" src="./main.js"></script>
  </body>
</html>
```

## main.js
```js
import "foo";

```

## package.json
```json
{
  "name": "root",
  "private": true,
  "dependencies": {
    "foo": "*"
  }
}
```

## index.js

```

const currentScript = document.currentScript;
if (!currentScript) {
  throw new Error(
    "document.currentScript is not available, cannot inject importmap"
  );
}
const baseUrl = new URL(".", currentScript.src).href;
const importmap = {
  "imports": {
    "root/": "./",
    "foo/": "./node_modules/foo/",
    "root": "./index",
    "foo": "./node_modules/foo/foo.js"
  },
  "scopes": {}
};
const topLevelMappings = importmap.imports;
const scopedMappings = importmap.scopes;
const makeMappingsAbsolute = () => {
```
see [git_ignored/index.js](git_ignored/index.js) for more

# 2/2 resolve

```js
undefined
```

---

<sub>
  Generated by <a href="https://github.com/jsenv/core/tree/main/packages/independent/snapshot">@jsenv/snapshot</a>
</sub>
